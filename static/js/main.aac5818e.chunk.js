(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){e.exports=n(39)},,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),o=n.n(c),i=(n(14),n(1)),s=n.n(i),l=n(3),u=n(2),d=(n(16),n(17),function(e){return a.a.createElement("div",{className:"to-home-btn",onClick:function(){return e.selectService("selectService")}},a.a.createElement("i",{className:"fas fa-arrow-left"}))}),m=(n(5),n(6),n(18),function(e){return e.kitchenService?a.a.createElement("div",{className:"ordered-item"},e.item.name):a.a.createElement("div",{className:"ordered-item",onClick:function(){return e.removeProduct(e.selectedTable,e.index)}},e.name," - $",e.price)}),f=(n(19),function(e){return e.kitchenService?a.a.createElement("div",{key:e.index,className:"added-note"},e.note):a.a.createElement("div",{key:e.index,className:"added-note",onClick:function(){return e.removeNote(e.selectedTable,e.index)}},e.note)}),p=function(e){var t=e.order.order.map(function(e,t){return a.a.createElement(m,{key:t,item:e,kitchenService:!0})}),n=e.order.notes.map(function(e,t){return a.a.createElement(f,{key:t,note:e,kitchenService:!0})}),r="order-preparing";"preparing"===e.order.status&&(r="order-preparing-true");var c="order-deliver";return"ready"===e.order.status&&(c="order-ready-true"),a.a.createElement("div",{className:"single-order-container"},a.a.createElement("div",{className:"order-delete",onClick:function(){return e.removeOrder(e.order)}},a.a.createElement("i",{className:"fas fa-trash fa-lg"})),a.a.createElement("div",{className:"order-date"},e.order.createdAt),a.a.createElement("div",{className:"order-waiter"},e.order.createdBy),a.a.createElement("div",{className:"order-table"},e.order.table),a.a.createElement("div",{className:"items"},t),a.a.createElement("div",{className:"notes"},n),a.a.createElement("div",{className:r,onClick:function(){return e.isPreparing(e.order)}}),a.a.createElement("div",{className:c,onClick:function(){return e.isReady(e.order)}}))},b=function(e){var t=e.orders.map(function(t){return a.a.createElement(p,{key:t._id,order:t,removeOrder:e.removeOrder,isPreparing:e.isPreparing,isReady:e.isReady})});return a.a.createElement("div",{className:"kitchen-service-container"},a.a.createElement("div",{className:"kitchen-display"},a.a.createElement(d,{className:"home-btn",selectService:e.selectService}),a.a.createElement("div",{className:"display-hour"},"HORA"),a.a.createElement("div",{className:"display-waiter"},"MESERO"),a.a.createElement("div",{className:"display-table"},"MESA"),a.a.createElement("div",{className:"display-preparing"},"COCINANDO"),a.a.createElement("div",{className:"display-deliver"},"LISTO")),a.a.createElement("div",{className:"orders-display"},t))},v=(n(20),function(e){return a.a.createElement("div",{className:"select-service-container"},a.a.createElement("button",{onClick:function(){return e.selectService("kitchenService")},className:"kitchen-btn"},"COCINA"),a.a.createElement("button",{onClick:function(){return e.selectService("selectTable")},className:"service-btn"},"SERVICIO"))}),E=(n(21),n(22),n(23),function(e){return a.a.createElement("div",{className:"ready-btn",onClick:function(){return e.deliverOrder(e.table)}},a.a.createElement("i",{className:"fas fa-bell"}))}),N=function(e){var t="table-btn";return e.table.isPreparing?t="table-btn-preparing":e.table.isReady&&(t="table-btn-ready"),e.table.isReady?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:t,onClick:function(){return e.takeOrder(e.table)}},"MESA ",e.table.number),a.a.createElement(E,{deliverOrder:e.deliverOrder,table:e.table})):a.a.createElement("button",{className:t,onClick:function(){return e.takeOrder(e.table)}},"MESA ",e.table.number)},h=function(e){return a.a.createElement("div",{className:"show-tables"},e.tables.map(function(t){return a.a.createElement(N,{key:t._id,table:t,takeOrder:e.takeOrder,deliverOrder:e.deliverOrder})}))},O=(n(24),function(e){var t="SELECCIONA UNA MESA";return e.selectedTable&&(t="MESA ".concat(e.selectedTable.number)),a.a.createElement("div",{className:"table-id"},t)}),y=function(e){return a.a.createElement("div",{className:"select-table-container"},a.a.createElement(d,{selectService:e.selectService}),a.a.createElement("div",{className:"tables-title"},"BURGER QUEEN"),a.a.createElement(O,null),a.a.createElement(h,{tables:e.tables,takeOrder:e.takeOrder,deliverOrder:e.deliverOrder}))},g=(n(25),n(26),n(27),function(e){var t=e.selectedTable.pendingOrder.map(function(e){return e.price}).reduce(function(e,t){return e+t},0);return a.a.createElement("div",{className:"total-check"},"TOTAL: $ ",t)}),T=(n(28),function(e){return a.a.createElement("button",{className:"send-order",onClick:function(){return e.submitOrder(e.selectedTable)}},"ENVIAR COMANDA")}),k=function(e){var t=e.selectedTable.pendingOrder.map(function(t,n){return a.a.createElement(m,{selectedTable:e.selectedTable,name:t.name,index:n,price:t.price,key:n,id:n,type:t.type,removeProduct:e.removeProduct})}),n=e.selectedTable.pendingNotes.map(function(t,n){return a.a.createElement(f,{index:n,key:n,note:t,selectedTable:e.selectedTable,removeNote:e.removeNote})});return a.a.createElement("div",{className:"table-order"},a.a.createElement("div",{className:"show-ordered-item"},t),a.a.createElement("div",{className:"added-notes"},n),a.a.createElement(g,{selectedTable:e.selectedTable}),a.a.createElement(T,{selectedTable:e.selectedTable,submitOrder:e.submitOrder}))},S=function(e){return a.a.createElement("div",{className:"check-container"},a.a.createElement(O,{selectedTable:e.selectedTable}),a.a.createElement(k,{selectedTable:e.selectedTable,notes:e.notes,index:e.index,removeProduct:e.removeProduct,removeNote:e.removeNote,submitOrder:e.submitOrder}))},j=(n(29),n(30),n(31),function(e){return a.a.createElement("div",{className:"item",onClick:function(){return e.addProduct(e.selectedTable,e.product)}},e.product.name," - $",e.product.price)}),C=function(e){var t=e.products.filter(function(t){return t.type===e.mealType?t:null}).map(function(t){return a.a.createElement(j,{key:t._id,product:t,addProduct:e.addProduct,selectedTable:e.selectedTable})});return a.a.createElement("div",{className:"menu-items"},t)},x=(n(32),n(33),function(e){return a.a.createElement("button",{className:e.name,key:e.id,onClick:e.handlerProp},e.display)}),P=function(e){return a.a.createElement("div",{className:"meal-type"},a.a.createElement(x,{className:"breakfast",name:"breakfast",display:"DESAYUNOS",handlerProp:function(){return e.changeMealType("breakfast")}}),a.a.createElement(x,{className:"meals",name:"meals",display:"COMIDAS",handlerProp:function(){return e.changeMealType("meal")}}),a.a.createElement(x,{className:"beverages",name:"beverages",display:"BEBIDAS",handlerProp:function(){return e.changeMealType("beverage")}}))},w=(n(34),n(35),function(e){return a.a.createElement("textarea",{type:"text",placeholder:"Notas...",className:"notes",onChange:e.handleNote})}),A=(n(36),function(e){return a.a.createElement("button",{className:"home-button",onClick:function(){return e.takeOrder(null)}},"INICIO")}),M=(n(37),function(e){return a.a.createElement("button",{className:"send-note",onClick:function(){return e.addNote(e.selectedTable,e.note)}},"ENVIAR NOTA")}),R=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1];return a.a.createElement("div",{className:"dashboard"},a.a.createElement(w,{handleNote:function(e){o(e.target.value)}}),a.a.createElement(A,{takeOrder:e.takeOrder}),a.a.createElement(M,{addNote:e.addNote,selectedTable:e.selectedTable,note:c}))},_=function(e){return a.a.createElement("div",{className:"select-menu-container"},a.a.createElement(P,{changeMealType:e.changeMealType}),a.a.createElement(C,{className:"menu-items",products:e.products,addProduct:e.addProduct,selectedTable:e.selectedTable,mealType:e.mealType}),a.a.createElement(R,{addNote:e.addNote,takeOrder:e.takeOrder,selectedTable:e.selectedTable}))},I=(n(38),function(e){return a.a.createElement("main",null,a.a.createElement(_,{selectedTable:e.selectedTable,products:e.products,mealType:e.mealType,changeMealType:e.changeMealType,addProduct:e.addProduct,addNote:e.addNote,takeOrder:e.takeOrder}),a.a.createElement(S,{notes:e.notes,selectedTable:e.selectedTable,removeProduct:e.removeProduct,removeNote:e.removeNote,submitOrder:e.submitOrder}))}),D=function(){var e=Object(r.useState)("selectService"),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)([]),i=Object(u.a)(o,2),d=i[0],m=i[1],f=Object(r.useState)([]),p=Object(u.a)(f,2),E=p[0],N=p[1],h=Object(r.useState)([]),O=Object(u.a)(h,2),g=O[0],T=O[1],k=Object(r.useState)(null),S=Object(u.a)(k,2),j=S[0],C=S[1],x=Object(r.useState)("none"),P=Object(u.a)(x,2),w=P[0],A=P[1];Object(r.useEffect)(function(){(function(){var e=Object(l.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/tables");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()().then(function(e){N(e)}).catch(function(e){return console.log(e)})},[]),Object(r.useEffect)(function(){(function(){var e=Object(l.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/orders");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()().then(function(e){m(e)}).catch(function(e){return console.log(e)})},[]),Object(r.useEffect)(function(){(function(){var e=Object(l.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()().then(function(e){T(e)}).catch(function(e){return console.log(e)})},[w]);var M=function(){var e=Object(l.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./orders/".concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,m(r.updatedOrders),r.updatedTables&&N(r.updatedTables);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(s.a.mark(function e(t,n){var r,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/tables/update/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(s.a.mark(function e(t,n){var r,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/orders/update/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),D=function(e){C(e)},B=function(){var e=Object(l.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"pending",order:t.pendingOrder,table:t.number,table_id:t._id,notes:t.pendingNotes,createdAt:new Date,createdBy:t.waiter})});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,m(r),t.pendingOrder=[],t.pendingNotes=[],R(t._id,{pendingOrder:t.pendingOrder,pendingNotes:t.pendingNotes}).then(function(e){N(e)}).catch(function(e){return console.log(e)});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),J=function(e){c(e)};return"selectTable"===n?null===j?a.a.createElement(y,{selectService:J,submitOrder:B,tables:E,takeOrder:D,deliverOrder:function(e){R(e._id,{isReady:!1}).then(function(e){return N(e)}).catch(function(e){return console.log(e)})}}):a.a.createElement(I,{selectedTable:j,takeOrder:D,tables:E,addProduct:function(e,t){e.pendingOrder.push(t),R(e._id,{pendingOrder:e.pendingOrder}).then(function(e){return N(e)}).catch(function(e){return console.log(e)})},removeProduct:function(e,t){e.pendingOrder.splice(t,1),R(e._id,{pendingOrder:e.pendingOrder}).then(function(e){return N(e)}).catch(function(e){return console.log(e)})},addNote:function(e,t){e.pendingNotes.push(t),R(e._id,{pendingNotes:e.pendingNotes}).then(function(e){return N(e)}).catch(function(e){return console.log(e)})},removeNote:function(e,t){e.pendingNotes.splice(t,1),R(e._id,{pendingNotes:e.pendingNotes}).then(function(e){return N(e)}).catch(function(e){return console.log(e)})},submitOrder:B,products:g,mealType:w,changeMealType:function(e){A(e)}}):"kitchenService"===n?a.a.createElement(b,{orders:d,selectService:J,removeOrder:M,isPreparing:function(e){R(e.table_id,{isPreparing:!0,isReady:!1}).then(function(e){return N(e)}).catch(function(e){return console.log(e)}),_(e._id,{status:"preparing"}).then(function(e){return m(e)}).catch(function(e){return console.log(e)})},isReady:function(e){R(e.table_id,{isPreparing:!1,isReady:!0}).then(function(e){return N(e)}).catch(function(e){return console.log(e)}),_(e._id,{status:"ready"}).then(function(e){return m(e)}).catch(function(e){return console.log(e)})}}):a.a.createElement(v,{selectService:J})};o.a.render(a.a.createElement(D,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.aac5818e.chunk.js.map